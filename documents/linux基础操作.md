## 1. 关机、重启

**命令：**`shutdown`、 `poweroff`、 `reboot`

- 关机
  - 设定指定时间关机：shutdown -h  [hour/+ minite] 
  - 一分钟后关机：shutdown -P/-H
  - 立即关机：halt / poweroff /shutdown  -h now
- 重启
  - 一分钟后重启：shutdown -r
  - 立即重启：reboot

## 2. linux 版本查看

**命令：**`uname`

- `-s`：(kernel name) 输出内核名称
- `-n`：(nodename) 输出网络节点上的主机名
- `-r`：(kernel release) 输出内核发行号
- `--help`:  显示帮助信息并退出
- `--version`:  显示版本信息并退出
**命令：**`hostname` 显示或设置主机名称

**说明：**

`sudo hostname hello`	临时设置主机名

`vim /etc/hostname` 		永久设置主机名

## 3. 开启不带图形界面的终端

**开启快捷键：** `ctrl + alt + f1 ~ f6`

**退出快捷键：** `ctrl  + alt + f7`

## 4. 终端常用快捷键

**快捷键：**

`ctrl + c`：终止正在执行的命令

`ctrl + a`：光标移动到命令开始

`ctrl + e`：光标移动到命令结尾

`ctrl + u`：清空命令行

`ctrl + l`：清屏/其实是翻页

`tab`： 命令、文件名、目录自动补全

## 5. 命令提示符

```
root@ubuntu16 ~# 
root 用户名
ubuntu16 主机名
~ 用户的家目录  root用户的家目录是/root;一般用户的家目录是 /home/用户名
/  系统根目录
# 超级管理员在工作
$ 普通用户在工作
```

## 6. 软件安装

**命令：** `apt`

`install` ：安装软件包

`remove`：移除软件包

`autoremover`：卸载所有自动安装且不再使用的软件包

`update`：更新可用软件包列表

`upgrade`：通过 安装/升级 软件来更新系统

**命令：**`tar`

**打包并压缩：**
	tar -zcvf 包名  文件名1 文件名2  目录1 
	tar -jcvf 包名  文件名1 文件名2  目录1
**解压：**
	tar -zxvf  包名
	tar -jxvf  包名

## 7. 文件系统结构

```shell
.           #系统根目录
├── bin     #存放常见的命令
├── boot    #系统启动文件和核心文件都在这个目录
├── cdrom   #光驱
├── dev     #存放设备文件，包括硬盘、光驱、键盘、鼠标等
├── etc     #系统配置文件都在这个目录下
├── home    #普通用户的家目录
├── lib     #系统链接库
├── lib64   #64位的链接库
├── lost+found #系统自动生成的，如果文件系统出错，会在目录下产生文件，记录错误
├── media        #系统自动挂载的光驱、usb等
├── mnt          #mount简写 挂载其他文件系统
├── opt          #可在此安装第三方软件 
├── proc         #系统进程的信息、系统状态信息
├── root         #超管的目录
├── run          #进程运行数据
├── sbin         #管理员的命令，普通用户无法使用
├── srv          #服务信息
├── sys          #系统相关
├── tmp          #临时目录，所有用户都具有读写权限
├── usr          #unix software resource  用户的软件安装到这个目录
|    ├── bin     #应用程序的可执行文件
|    ├── sbin    #用户或超管的标准命令
|    ├── local   #管理员安装的应用程序目录
|    └── share   #共享文件目录
└── var          #存放不断扩充的文件。比如数据库文件、日志文件
  ├── log     #日志目录，各种应用的日志
  └── run     # /run的软连接
```

## 8. 目录操作

**命令：**`ls`          列出目录下的文件或子目录

`-a`：显示目录下的所有内容，包括隐藏文件和目录

`-l`：以列表方式显示文件的详细信息

`-i`：查看文件的节点号

`-h`：以人可读的方式显示文件大小

`-S`：按文件大小排序

`-t`：按文件修改时间排序

**命令：**`ll`    以列表的方式显示，其实是`ls -l`的别名，这个配置在 ～/.bashrc中

- 白色代表普通文件
- 绿色代表可执行文件
- 蓝色代表目录

**目录管理**

linux不区分盘符，只有一个根目录用`/`表示。

绝对路径：以根路径为基准。

相对路径：以当前目录为基准。

**目录切换**

**命令：**`cd`

`cd 目录名`     切换目录

`/`		切换到根目录

`-`		切换到来源目录

`~`		切换到用户的家目录

**命令：**`pwd`    显示当前目录的绝对路径名

**创建目录**

**命令：**`mkdir`

`mkdir 目录名` 创建目录

`mkdir -p 目录名`  递归的创建目录

**删除目录**

**命令：**`rmdir`

`rmdir 目录名` 	删除的时候目录必须为空

`rmdir -p 目录名`  	递归的删除空目录

## 9.文件操作
**文件权限**

`drwxr-xr-x`

`第1位`：d 代表目录，-代表文件

`2-4位`：owner文件的所有者

`5-7位`：group 用户组

`8-10位`：other 其他用户

**命令：**`man` 查看命令的帮助文档

**命令：**`history` 查看敲过的命令

**软连接和硬连接**

**linux文件**：	文件都有文件名与数据，这在 Linux 上被分成两个部分：用户数据 (user data) 与元数据 (metadata)。用户数据，即文件数据块 (data block)，数据块是记录文件真实内容的地方；而元数据则是文件的附加属性，如文件大小、创建时间、所有者等信息。在 Linux 中，元数据中的 inode 号（inode 是文件元数据的一部分但其并不包含文件名，inode 号即索引节点号）才是文件的唯一标识而非文件名。文件名仅是为了方便人们的记忆和使用，系统或程序通过 inode 号寻找正确的文件数据块。

**命令：** `ln`

**硬连接**

` ln 源文件名 新文件名` 

**特点：**

1. 只能对已存在的文件进行创建。
2. 不能交叉文件系统进行硬连接的创建。
3. 不能对目录进行创建，只可对文件创建。
4. 删除一个硬连接文件并不影响其他有相同inode号的文件。

**linux软连接**

`ln -s 源文件 新文件名`

**特点：**

1. 软链接有自己的文件属性及权限等；
2. 可对不存在的文件或目录创建软链接；
3. 软链接可交叉文件系统；
4. 软链接可对文件或目录创建；
5.  创建软链接时，链接计数 i_nlink 不会增加；
6.  删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接被称为死链接

**文件创建**

**命令：**`touch`

`touch 文件名 [文件名2][文件名3] ...`       创建多个空文件，如果文件存在，则自动忽略，不会覆盖

**文件编辑**

**命令：**`echo`

`echo  'hello world' > 1.txt` 可以将内容写入到文件，但会覆盖原来的内容，文件不存在则创建

`echo '世界，你好' >> 1.txt`   将内容追加到文件末尾，文件不存在则创建

**文件移动**

**命令：**`mv`  

`mv 源文件  目标路径`

`mv    1.txt    ./lpl/`    将1.txt移动到目录lpl下，文件名不变

`mv	1.txt	2.txt`	   如果在同一个目录 就是文件重命名

**文件拷贝**

**命令：**`cp`

`cp 源文件  目标文件`

`cp	 -r   源目录	目标目录`     递归拷贝目录

**文件删除**

**命令：**`rm`

`-i`	  删除前逐一确认

`-f`	  删除文件不带提示

`-r`	   递归删除目录，不管目录是否为空

**文件查看**

**命令：**`cat`、`tac`、`head`、`tail`、`watch`

`cat	文件名`     输出文件内容，从前往后输出

`tac	文件名` 	输出文件内容，从后往前输出

`head  -n  number  文件名` 	显示文件的指定行数，从前往后数

`tail -n   number   文件名`     显示文件的指定行数，从后往前数

`tail  -f  文件名`  实时显示文件内容

`watch -d  -n 秒数  cat  文件名`		实时显示文件内容，有高亮

**文件查找**

**命令：**`find`		用于在系统内搜索指定文件。

**语法格式：**`find [路径][参数] [文件名]`

**参数：**

`-name`		按文件名查找

`-iname`		按文件名查找，不区分大小写

`-mtime +/- n`		-n表示n天以内修改的文件，+n 表示修改超过n天的文件

`-user`		按文件属主查找

`-size [+/-]n[c/k/M/G]`	查找文件长度为n块，+表示大于，-表示小于；c是字节 

`-perm`		权限数值

`-maxdepth number`		查找的目录深度

`-ls`		以列表形式显示

`-exec`		执行shell 命令，形式：-exec command {} \

**文件内容查找**

**命令：**`grep`	全面搜索正则表达式并把行打印出来

**语法格式：** `grep [option] 'pattern' filename`

**参数：**

`-i`		不区分大小写

`-c`		只显示匹配行的数量

`-r`		递归查找子目录

`-l`		列出文件内容符合指定的范本文件名称

`-n`		显示-行号

`-w`		只匹配单词，不是匹配单词的一部分

`-E`		按正则表达式搜索

`--color`		以不同颜色显示匹配的关键字

`--include '*.py'`	仅搜索py文件

`--exclude '*.py'`	不搜索py文件

**搜索命令绝对路径**

**命令：**`which` 

**语法格式：** `which 命令`

**只能搜索命令、源文件、二进制文件**

**命令：**`whereis`

**语法格式：**`whereis 文件名`

**文件内容统计**

**命令：** `wc`

**语法格式：** `wc [options][文件列表]`

**参数：**

`-l`	统计有多少行

`-w`	统计有多少单词

**文件处理**

**命令：**`awk` awk就是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。

**语法格式：**`awk '{pattern + action}' {filenames}`

**参数：**

`-F`		指定切割符

**命令：**`uniq` 		报告或删除文件中重复行,uniq 只比较相邻行

**语法格式：** `uniq  [选项] ... [文件]`

**参数：** 

`-c`		在每行前加上表示相应行出现次数的前缀编号

`-d`		只输出重复行

`-D` 	只输出重复行有几行输出几行

`-i`		忽略大小写

**命令：** `sort`  将文件或文本的每一行作为一个单位，相互比较。

**语法格式：** `sort [参数] 文件名`

**参数：**

`-u`		忽略相同行

`-k`		按指定列排序

`-n`		按数值排序

`-t`		分割符

`-r`		逆序

## 10. 文件权限

**文件权限表示**

`r`		4		100		读

`w`		2		010		写

`x`		1		001		执行

`-`		0		000		没有权限

`u`		表示文件所有者

`g`		文件所属的组

`0`		其他人

`a`		所有的人

`+` 		表示增加权限

`-`		削减权限

`=`		赋权限

**修改权限**

**命令：**`chmod`

**语法格式：** `chmod  [option] 权限 文件名/目录`

**参数：**

`-R` 	递归文件夹修改权限

**修改文件的所有者**

**命令：** `chown`      所有者必须在/etc/passwd 文件中

**语法格式：** `chown [option][owner][:[group]] file`

**参数：**

`-R`  递归文件修改文件所有者

**修改用户组**

**命令：**`chgrp`

**语法格式：**`chgrp 组名 文件名/目录名`

**参数：**

`-R` 		递归修改文件夹下文件及文件夹所属组

**lsattr/chattr 修改和查看文件只读属性**

**命令：** `lsattr`

**语法格式：**`lsattr 文件名`	查看文件的只读属性

**命令：** `chattr`

**语法格式：**`chattr [-pRVf][-+=aAcCdDeijPsStTu][-v 版本]文件...`

**参数：**

`+/- i`	给文件增加或者去除只读属性

`+/- a` 	只能追加数据，不能修改或者删除

## 11. 用户管理

**用户和组**

- 一个用户必须有一个主组
- 一个用户可以有多个组
- 一个组可以有多个用户
- 用户账户的信息存在/etc/passwd 文件中
- 用户的密码存放到/etc/shadow，该文件只有root可以修改
- 组账户信息存放到/etc/group 

**添加用户**

**命令：**`useradd`

**语法格式：**`useradd [-gud] 用户名`

**参数：**

`-g`	指定主组名或组id，必须是已经存在的组

`-u`	指定用户的id

`-m`	自动建立用户主目录

`-d` 指定用户的家目录

`-s` 指定用户登录后使用shell，默认是/bin/bash

**说明：** 创建一个用户没有指定用户组，则默认创建一个和用户名一样的组，作为用户的主组。 ubuntu提供了一个adduser 命令以交互模式创建用户`sudo adduser cs1`

**删除用户**

**命令：**`userdel`

**语法格式：**`userdel [option] 用户名`

**参数：**

`-r`	删除用户的同时删除家目录

**说明：**如果用户登录了无法删除，应该先切换用户，杀死进程，然后删除用户

**修改用户信息**

**命令：**`usermod`

**语法格式：** `usermod [option] 用户名`

**参数：**

`-u`	用户id

`-g`	主组id

`-G`	附属组名称

`-a`	将用户添加到附属组，必须与`-G`配合使用

`-d`	用户的家目录

`-l`	用户登录名

**修改用户密码**

**命令：**`passwd`

**语法格式：** `passwd [option] 用户名`

**参数：** 

`-a`	此选项只能和`-S` 一起使用，来显示所有用户的状态

`-S`   显示账户状态信息。状态信息包含 7 个字段。首个字段是用户的登录名，第
           二个字段表示用户账户是否已经锁定密码(L)、没有密码 (NP)或者密码可
           用(P)，第三个字段给出最后一次更改密码的日期。接下来的四个字段分别是
           密码的最小年龄、最大年龄、警告期和禁用期。这些年龄以天为单位计算。

`-d`	删除用户密码

`-l`	锁定指定账户的密码

`-u`	解锁指定用户的密码

**用户切换**

**命令：** `su`

**语法格式：**`su [option] 用户名`

**参数：**

`-`      切换到用户的家目录

**提升权限**

**命令：** `sudo`  暂时提升权限

**语法格式：**`sudo 命令`

**说明：**

修改 `/etc/sudoers `文件添加字段`NOPASSWD`如：`%sudo ALL=(ALL:ALL) NOPASSWD : ALL`

**其它命令**

**命令：**`id` 查看用户的id和组信息

**命令：**`groups`查看用户的组

**命令：**`whoami` 查看当前的用户是谁

**组管理**

**命令：**`groupadd 组名`  添加一个组

**命令：**`groupdel 组名 `   删除组 

**命令：** `groupmod -n 新组名 旧组名` 修改组名

**命令：** `groups` 显示用户的组

## 12. 网络管理

**命令：**`ifconfig`		显示和配置网络

**启动和关闭网卡：**

`ifconfig 网络名称 up`

`ifconfig 网络名称 down`

`/etc/init.d/network restart`

**命令：**`ip`		显示或操作Linux主机的路由、网络设备、策略路由和隧道

**语法格式：**`ip [选项][参数]`

**参数：**

`link`	显示所有的网络信息的状态

`address` 	显示网络设备的详细信息

`ip link set enss33  up` 	开启网卡

`ip link set enss33 down` 	关闭网卡

`route` 	显示路由信息

**命令：**`ping`	测试主机之间网络的连通信

**语法格式：** `ping [参数][主机名或ip地址]`

**参数：**

`-c` 	执行指定次数的ping命令

`-b` 	测试与网关ip的连通信

**命令：** `netstat` 查看网络连接状况

**语法格式：**`netstat [option]`

**参数：**

`-n`	显示端口

`-p` 显示进程

`-t`	tcp连接

`-u` udp 连接

`-a`	显示所有

## 13. 进程管理

**命令：**`ps` 报告当前系统的进程状态

**语法格式：**`ps  [option][username]`

**参数：**

`-a` 显示所有进程

`-e` 显示所有进程

`-u` 显示指定用

`-x` 通常与a这个参数一起使用，可列出比较完整信息

**命令：**`kill` 杀死进程

**说明：**

`kill  进程号`	杀死指定进程号的进程

`kill  -9  进程号` 	强制杀死指定进程号的进程

**命令：** `killall  - TERM  进程名称` 	杀死指定进程名的进程

**命令：**`top`  是Linux 下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况。

**命令：** `lsof`命令是一个列出当前系统打开文件的工具

